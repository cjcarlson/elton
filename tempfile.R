require(gRain)
temp_fn <- function(){
V1<-cptable(~V1, values=c(0.3090442,0.6909558), levels=c('absent', 'present'))
V2<-cptable(~V2, values=c(0.4066049,0.5933951), levels=c('absent', 'present'))
V3<-cptable(~V3, values=c(0.276969,0.723031), levels=c('absent', 'present'))
V4<-cptable(~V4, values=c(0.2842366,0.7157634), levels=c('absent', 'present'))
V5<-cptable(~V5, values=c(0.2693451,0.7306549), levels=c('absent', 'present'))
V6<-cptable(~V6, values=c(0.2453962,0.7546038), levels=c('absent', 'present'))
V7<-cptable(~V7|V1+V2+V3+V4+V5+V6, values=c(0.9,0.1,0.8875939,0.1124061,0.8875939,0.1124061,0.8751878,0.1248122,0.8875939,0.1124061,0.8751878,0.1248122,0.8751878,0.1248122,0.8627816,0.1372184,0.8875939,0.1124061,0.8751878,0.1248122,0.8751878,0.1248122,0.8627816,0.1372184,0.8751878,0.1248122,0.8627816,0.1372184,0.8627816,0.1372184,0.8503755,0.1496245,0.8875939,0.1124061,0.8751878,0.1248122,0.8751878,0.1248122,0.8627816,0.1372184,0.8751878,0.1248122,0.8627816,0.1372184,0.8627816,0.1372184,0.8503755,0.1496245,0.8751878,0.1248122,0.8627816,0.1372184,0.8627816,0.1372184,0.8503755,0.1496245,0.8627816,0.1372184,0.8503755,0.1496245,0.8503755,0.1496245,0.8379694,0.1620306,0.8379694,0.1620306,0.8255633,0.1744367,0.8255633,0.1744367,0.8131572,0.1868428,0.8255633,0.1744367,0.8131572,0.1868428,0.8131572,0.1868428,0.8007511,0.1992489,0.8255633,0.1744367,0.8131572,0.1868428,0.8131572,0.1868428,0.8007511,0.1992489,0.8131572,0.1868428,0.8007511,0.1992489,0.8007511,0.1992489,0.7883449,0.2116551,0.8255633,0.1744367,0.8131572,0.1868428,0.8131572,0.1868428,0.8007511,0.1992489,0.8131572,0.1868428,0.8007511,0.1992489,0.8007511,0.1992489,0.7883449,0.2116551,0.8131572,0.1868428,0.8007511,0.1992489,0.8007511,0.1992489,0.7883449,0.2116551,0.8007511,0.1992489,0.7883449,0.2116551,0.7883449,0.2116551,0.7759388,0.2240612), levels=c('absent', 'present'))
plist<-compileCPT(list(V1,V2,V3,V4,V5,V6,V7))
BN<-grain(plist)
Results_tmp<-querygrain(BN)
return(Results_tmp)
}
